(this.webpackJsonpmandelbrot=this.webpackJsonpmandelbrot||[]).push([[0],{12:function(e,t,n){e.exports={canvas:"MandelbrotVisualizer_canvas__hswg-"}},13:function(e,t,n){e.exports={container:"RenderOptions_container__U4epK"}},14:function(e,t,n){e.exports=n(21)},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(11),s=n.n(i),o=(n(19),n(9)),c=n(1),u=n.n(c),h=n(4),l=n(2),v=n(3),d=n(7),f=n(6),m=n(8),C=function(e){return new Promise((function(t){return setTimeout(t,e)}))},p=function(){function e(t){Object(l.a)(this,e),this.originalCanvas=void 0,this.originalCanvasCtx=void 0,this.backupCanvas=void 0,this.backupCanvasCtx=void 0,this.originalCanvas=t,this.originalCanvasCtx=t.getContext("2d"),this.backupCanvas=this.setupBackupCanvas(),this.backupCanvasCtx=this.backupCanvas.getContext("2d")}return Object(v.a)(e,[{key:"setupBackupCanvas",value:function(){var e=document.createElement("canvas");return e.width=this.originalCanvas.width,e.height=this.originalCanvas.height,e}},{key:"save",value:function(){this.backupCanvasCtx.drawImage(this.originalCanvas,0,0)}},{key:"restore",value:function(){this.originalCanvasCtx.drawImage(this.backupCanvas,0,0)}}]),e}(),w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).canvas=void 0,n.canvasCtx=void 0,n.canvasBackup=void 0,n.canvasRatio=void 0,n.originX=void 0,n.originY=void 0,n.mouseX=void 0,n.mouseY=void 0,n.selectedAreaStartX=void 0,n.selectedAreaEndX=void 0,n.selectedAreaStartY=void 0,n.selectedAreaEndY=void 0,n.mouseIsDown=void 0,n.onRef=function(e){n.canvas=e,n.canvasCtx=n.canvas.getContext("2d"),n.canvasBackup=new p(n.canvas),n.canvasRatio=n.canvas.height/n.canvas.width,n.props.innerRef(e)},n.handleMouseDown=function(e){n.mouseIsDown=!0,n.originX=e.pageX,n.originY=e.pageY,n.canvasBackup.save()},n.handleMouseUp=function(){n.mouseIsDown=!1,n.props.onChangeSelectedRegion(n.selectedAreaStartX,n.selectedAreaEndX,n.selectedAreaStartY,n.selectedAreaEndY)},n.handleMouseMove=function(e){n.mouseIsDown&&(n.mouseX=e.pageX,n.mouseY=e.pageY,n.calculateSelectionArea(),n.canvasBackup.restore(),n.drawRawRect(),n.drawFixedRect())},n.canvas=null,n.canvasCtx=null,n.canvasBackup=null,n.canvasRatio=null,n.originX=0,n.originY=0,n.mouseX=0,n.mouseY=0,n.selectedAreaStartX=0,n.selectedAreaEndX=0,n.selectedAreaStartY=0,n.selectedAreaEndY=0,n.mouseIsDown=!1,n}return Object(m.a)(t,e),Object(v.a)(t,[{key:"calculateSelectionArea",value:function(){var e=this.mouseX-this.originX,t=this.mouseY-this.originY,n=Math.min(e,t/this.canvasRatio),a=Math.min(t,e*this.canvasRatio),r=(e-n)/2,i=(t-a)/2,s=n,o=a;this.selectedAreaStartX=this.originX+r,this.selectedAreaStartY=this.originY+i,this.selectedAreaEndX=this.selectedAreaStartX+s,this.selectedAreaEndY=this.selectedAreaStartY+o}},{key:"drawRawRect",value:function(){this.drawRect("#00FF00",this.originX,this.mouseX,this.originY,this.mouseY)}},{key:"drawFixedRect",value:function(){this.drawRect("#FF0000",this.selectedAreaStartX,this.selectedAreaEndX,this.selectedAreaStartY,this.selectedAreaEndY)}},{key:"drawRect",value:function(e,t,n,a,r){this.canvasCtx.strokeStyle=e,this.canvasCtx.strokeRect(t,a,n-t,r-a)}},{key:"render",value:function(){return r.a.createElement("canvas",{ref:this.onRef,width:window.innerWidth,height:window.innerHeight,className:this.props.className,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMouseMove})}}]),t}(a.Component),g=function(){function e(t,n){Object(l.a)(this,e),this.a=void 0,this.b=void 0,this.a=t,this.b=n}return Object(v.a)(e,[{key:"square",value:function(){return new e(Math.pow(this.a,2)-Math.pow(this.b,2),2*this.a*this.b)}},{key:"add",value:function(t){return new e(this.a+t.a,this.b+t.b)}},{key:"hasEscaped",value:function(){return Math.abs(this.a+this.b)>16}},{key:"getA",value:function(){return this.a}},{key:"getB",value:function(){return this.b}}]),e}();function b(e,t,n,a,r){return a+(e-t)/(n-t)*(r-a)}var A,x,E=function(){function e(t,n,a){Object(l.a)(this,e),this.red=t,this.green=n,this.blue=a}return Object(v.a)(e,[{key:"getR",value:function(){return Math.round(255*this.red)}},{key:"getG",value:function(){return Math.round(255*this.green)}},{key:"getB",value:function(){return Math.round(255*this.blue)}}],[{key:"colorBetween",value:function(t,n,a){return new e(t.red+a*(n.red-t.red),t.green+a*(n.green-t.green),t.blue+a*(n.blue-t.blue))}},{key:"fromRGB",value:function(t,n,a){return new e(t/255,n/255,a/255)}}]),e}(),O=n(5);!function(e){e[e.GRAY_SCALE=0]="GRAY_SCALE",e[e.CYCLIC_GRAY_SCALE=1]="CYCLIC_GRAY_SCALE",e[e.RED_CYAN=2]="RED_CYAN",e[e.BLUE_GOLD=3]="BLUE_GOLD",e[e.EARTH_AND_SKY=4]="EARTH_AND_SKY",e[e.HOT_AND_COLD=5]="HOT_AND_COLD",e[e.FIRE=6]="FIRE",e[e.TREE_COLORS=7]="TREE_COLORS",e[e.SEA_SHORE=8]="SEA_SHORE",e[e.RANDOM=9]="RANDOM"}(x||(x={}));var k=(A={},Object(O.a)(A,x.GRAY_SCALE,(function(){return{divisionPoints:[0,1],colors:[new E(1,1,1),new E(0,0,0)]}})),Object(O.a)(A,x.CYCLIC_GRAY_SCALE,(function(){return{divisionPoints:[0,.5,1],colors:[new E(0,0,0),new E(1,1,1),new E(0,0,0)]}})),Object(O.a)(A,x.RED_CYAN,(function(){return{divisionPoints:[0,.5,1],colors:[new E(1,0,0),new E(0,1,1),new E(1,0,0)]}})),Object(O.a)(A,x.BLUE_GOLD,(function(){return{divisionPoints:[0,.5,1],colors:[new E(.1,.1,1),new E(1,.6,0),new E(.3,.3,1)]}})),Object(O.a)(A,x.EARTH_AND_SKY,(function(){return{divisionPoints:[0,.15,.33,.67,.85,1],colors:[new E(1,1,1),new E(1,.8,0),new E(.53,.12,.075),new E(0,0,.6),new E(0,.4,1),new E(1,1,1)]}})),Object(O.a)(A,x.HOT_AND_COLD,(function(){return{divisionPoints:[0,.16,.5,.84,1],colors:[new E(1,1,1),new E(0,.4,1),new E(.2,.2,.2),new E(1,0,.8),new E(1,1,1)]}})),Object(O.a)(A,x.FIRE,(function(){return{divisionPoints:[0,.17,.83,1],colors:[new E(0,0,0),new E(1,0,0),new E(1,1,0),new E(1,1,1)]}})),Object(O.a)(A,x.SEA_SHORE,(function(){return{divisionPoints:[0,.1667,.3333,.5,.6667,.8333,1],colors:[new E(.7909,.9961,.763),new E(.8974,.8953,.6565),new E(.9465,.3161,.1267),new E(.5184,.1109,.0917),new E(.0198,.4563,.6839),new E(.5385,.8259,.8177),new E(.7909,.9961,.76)]}})),A),S=function(){function e(t,n){Object(l.a)(this,e),this.divisionPoints=t,this.divisionColors=n}return Object(v.a)(e,[{key:"getNearestDivisionPoint",value:function(e){for(var t=1;e>this.divisionPoints[t];)t++;return t}},{key:"getColor",value:function(e){var t=this.getNearestDivisionPoint(e),n=this.divisionPoints[t-1],a=(e-n)/(this.divisionPoints[t]-n);return E.colorBetween(this.divisionColors[t-1],this.divisionColors[t],a)}}],[{key:"createStandardPalette",value:function(t){var n=k[t]();return new e(n.divisionPoints,n.colors)}}]),e}().createStandardPalette(x.EARTH_AND_SKY);function R(e,t){return S.getColor(b(e,0,t,0,1))}var y=function(){function e(t,n){Object(l.a)(this,e),this.minCorner=void 0,this.maxCorner=void 0,this.width=void 0,this.height=void 0,this.width=t,this.height=n;var a=this.height/this.width;this.maxCorner=new g(3,3*a),this.minCorner=new g(-3,-3*a)}return Object(v.a)(e,[{key:"minCornerA",value:function(){var e=Object(h.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.minCorner.getA().toString());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"minCornerB",value:function(){var e=Object(h.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.minCorner.getB().toString());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"maxCornerA",value:function(){var e=Object(h.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.maxCorner.getA().toString());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"maxCornerB",value:function(){var e=Object(h.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.maxCorner.getB().toString());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zoomCanvas",value:function(){var e=Object(h.a)(u.a.mark((function e(t,n,a,r){var i,s,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=b(t,0,this.width,this.minCorner.getA(),this.maxCorner.getA()),s=b(n,0,this.width,this.minCorner.getA(),this.maxCorner.getA()),o=b(a,0,this.height,this.minCorner.getB(),this.maxCorner.getB()),c=b(r,0,this.height,this.minCorner.getB(),this.maxCorner.getB()),this.minCorner=new g(i,o),this.maxCorner=new g(s,c);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"iterationsUntilItEscapes",value:function(e,t){for(var n=new g(0,0),a=0;a<t;a++)if((n=n.square().add(e)).hasEscaped())return a;return t}},{key:"render",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,n,a,r,i,s,o,c,h,l=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=l.length>0&&void 0!==l[0]?l[0]:100,n=this.minCorner,a=this.maxCorner,r=[],i=0;i<this.height;i++)for(s=0;s<this.width;s++)o=new g(b(s,0,this.width,n.getA(),a.getA()),b(i,0,this.height,n.getB(),a.getB())),c=this.iterationsUntilItEscapes(o,t),h=R(c,t),r.push(h.getR()),r.push(h.getG()),r.push(h.getB()),r.push(255);return e.abrupt("return",new Uint8ClampedArray(r));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),j=n(12),Y=n.n(j),_=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(f.a)(t).call(this,e))).mandelbrotSet=void 0,n.canvas=void 0,n.canvasCtx=void 0,n.onRef=function(e){n.canvas=e,n.canvasCtx=e.getContext("2d"),n.mandelbrotSet=new y(e.width,e.height),n.refreshCanvas()},n.onChangeSelectedRegion=function(e,t,a,r){n.mandelbrotSet.zoomCanvas(e,t,a,r).then((function(){n.refreshCanvas()}))},n.mandelbrotSet=null,n.canvasCtx=null,n.canvas=null,n}return Object(m.a)(t,e),Object(v.a)(t,[{key:"componentDidUpdate",value:function(e){e.renderingKey!==this.props.renderingKey&&this.refreshCanvas()}},{key:"refreshCanvas",value:function(){var e=Object(h.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this.props,e.next=3,this.mandelbrotSet.minCornerA();case 3:return e.t1=e.sent,e.next=6,this.mandelbrotSet.minCornerB();case 6:return e.t2=e.sent,e.next=9,this.mandelbrotSet.maxCornerA();case 9:return e.t3=e.sent,e.next=12,this.mandelbrotSet.maxCornerB();case 12:return e.t4=e.sent,e.t5={minCornerA:e.t1,minCornerB:e.t2,maxCornerA:e.t3,maxCornerB:e.t4},e.t0.onChangeBounds.call(e.t0,e.t5),e.next=17,C(50);case 17:return e.next=19,this.mandelbrotSet.render(this.props.maxIterations);case 19:t=e.sent,n=new ImageData(t,this.canvas.width,this.canvas.height),this.canvasCtx.putImageData(n,0,0);case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(w,{innerRef:this.onRef,className:Y.a.canvas,onChangeSelectedRegion:this.onChangeSelectedRegion})}}]),t}(a.Component),B=n(13),D=n.n(B),M=function(e){var t=e.onChangeMaxIterations,n=e.maxIterations,a=e.corners,i=e.refresh;return r.a.createElement("form",{className:D.a.container,onSubmit:function(e){e.preventDefault(),i()}},r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:a.minCornerA}),r.a.createElement("input",{type:"text",value:a.minCornerB})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:a.maxCornerA}),r.a.createElement("input",{type:"text",value:a.maxCornerB})),r.a.createElement("input",{type:"number",onChange:function(e){return t(parseInt(e.target.value))},value:n}),r.a.createElement("input",{type:"submit",value:"Refresh"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement((function(){var e=Object(a.useState)(100),t=Object(o.a)(e,2),n=t[0],i=t[1],s=Object(a.useState)(Math.random()),c=Object(o.a)(s,2),u=c[0],h=c[1],l=Object(a.useState)({minCornerA:"",minCornerB:"",maxCornerA:"",maxCornerB:""}),v=Object(o.a)(l,2),d=v[0],f=v[1];return r.a.createElement("div",null,r.a.createElement(_,{renderingKey:u,maxIterations:n,onChangeBounds:f}),r.a.createElement(M,{onChangeMaxIterations:i,maxIterations:n,refresh:function(){return h(Math.random())},corners:d}))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.c0abb8ca.chunk.js.map